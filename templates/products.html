<!DOCTYPE html>
<html lang="en">
<head>
    <title>Products Page</title>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.2.0/css/all.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</head>
<body>

<div class="topnav">
      <a href="{{ url_for('Home') }}">Home</a>
      <a href="{{ url_for('userLogin') }}">Login/Register</a>
      <a href="{{ url_for('products') }}" class="active">All Products</a>
      <a href="{{ url_for('showCart') }}">View Cart</a>
      <a href="{{ url_for('userHome') }}">Profile</a>
      <a href="#about">About</a>
</div>

<h3 class = "h3"> </h3>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

<!--putting the navbar here-->

<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand"><!--href="#"--> Sort By:</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Brand
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          {% for brand in brands %}
            <!-- <a class="dropdown-item" href="#">{{brand.BrandName}}</a> -->
            <a class="dropdown-item" href="{{url_for('get_brand', ID = brand.Brand_ID)}}">{{brand.BrandName}}</a>
          {% endfor %}
          <!--  <div class="dropdown-divider"></div>  -->
          <!--  <a class="dropdown-item" href="#">Something else here</a>  -->
        </div>
      </li>
      <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown2" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Type
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown2">
              {% for type in disc_types %}
              <a class="dropdown-item" href="{{url_for('get_type', ID = type.Type_ID)}}">{{type.TypeName}}</a>
              {% endfor %}
          </div>
      </li>

        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown3" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Cost
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown3">
                <a class="dropdown-item" href="{{url_for('hightolow')}}">High to Low</a>
                <a class="dropdown-item" href="{{url_for('lowtohigh')}}">Low to High</a>
            </div>
        </li>
    </ul>
    <form class="form-inline my-2 my-lg-0" method="POST" action="{{url_for('search')}}">
      <input class="form-control mr-sm-2" type="search" placeholder="Search" name="search_string" aria-label="Search">
      <button type="submit" style="color:#3FA2F5"> GO!</button>
        <!--class="btn btn-outline-success my-2 my-sm-0"-->
    </form>
  </div>
</nav>



<section class="our-publication pt-100 pt-70">
    <div class="container">
        <div class="section-header">
        <h2>Our Products</h2>
        </div>

        <div class="row">

        {% if brand %}
            {% for b in brandsort %}
              <div class="col-sm-6 col-lg-3">
               <form method="post" action="/add">
                 <div class="single-publication">
                    <figure style="height:100%; width: 100%; width:200px;">
                        <a href="{{url_for('single_item_page',id=b.ItemID)}}">
                            <img src="/static/product-images/{{ b.Image }}" style=" width: 100%; width:200px;height:200px" alt="{{b.Name}}">
                        </a>
                    </figure>
                     <div class="publication-content">
                        <span class="type">{{ b.DiscType }}</span>
                        <h3><a href="{{url_for('single_item_page',id=b.ItemID)}}">{{ b.Name }}</a></h3>
                         <ul>
                            <li><i class="icofont-star"></i></li>
                            <li><i class="icofont-star"></i></li>
                            <li><i class="icofont-star"></i></li>
                            <li><i class="icofont-star"></i></li>
                            <li><i class="icofont-star"></i></li>
                        </ul>
                        <h4 class="price">$ {{ b.Cost }}</h4>
                    </div>
                     <div class="add-to-cart">
                        <input type="hidden" name="code" value="{{ b.ItemCode }}"/>
                        <input type="number" class="product-quantity" name="quantity" value="1" size="2" />
                        <input type="submit" value="Add to Cart" class="default-btn" />
                    </div>
                 </div>
               </form>
              </div>
            {% endfor %}

        {% elif type %}
            {% for t in typesort %}
              <div class="col-sm-6 col-lg-3">
               <form method="post" action="/add">
                 <div class="single-publication">
                    <figure style="height:100%; width: 100%; width:200px;">
                        <a href="{{url_for('single_item_page',id=t.ItemID)}}">
                            <img src="/static/product-images/{{ t.Image }} "  style=" width: 100%; width:200px; height:200px" alt="{{t.Name}}">
                        </a>
                    </figure>
                     <div class="publication-content">
                        <span class="type">{{ t.DiscType }}</span>
                        <h3><a href="{{url_for('single_item_page',id=t.ItemID)}}">{{ t.Name }}</a></h3>
                         <ul>
                            <li><i class="icofont-star"></i></li>
                            <li><i class="icofont-star"></i></li>
                            <li><i class="icofont-star"></i></li>
                            <li><i class="icofont-star"></i></li>
                            <li><i class="icofont-star"></i></li>
                        </ul>
                        <h4 class="price">$ {{ t.Cost }}</h4>
                    </div>
                     <div class="add-to-cart">
                        <input type="hidden" name="code" value="{{ t.ItemCode }}"/>
                        <input type="number" class="product-quantity" name="quantity" value="1" size="2" />
                        <input type="submit" value="Add to Cart" class="default-btn" />
                    </div>
                 </div>
               </form>
              </div>
            {% endfor %}

        {% else %}


        {% for item in items %}
            <div class="col-sm-6 col-lg-3">
             <form method="post" action="/add">
                 <div class="single-publication">
                    <figure style="height:100%; width: 100%; width:200px;">
                        <a href="{{url_for('single_item_page',id=item.ItemID)}}">
                            <img src="/static/product-images/{{ item.Image }}" style="width: 100%; width:200px;height:200px" alt="{{item.Name}}">
                        </a>
                    </figure>
                     <div class="publication-content">
                        <span class="type">{{ item.DiscType }}</span>
                        <h3><a href="{{url_for('single_item_page',id=item.ItemID)}}">{{ item.Name }}</a></h3>
                         <ul>
                            <li><i class="icofont-star"></i></li>
                            <li><i class="icofont-star"></i></li>
                            <li><i class="icofont-star"></i></li>
                            <li><i class="icofont-star"></i></li>
                            <li><i class="icofont-star"></i></li>
                        </ul>
                        <h4 class="price">$ {{ item.Cost }}</h4>
                    </div>
                     <div class="add-to-cart">
                        <a class="btn btn-primary" href="{{url_for('single_item_page',id=item.ItemID)}}" role="button">View Item</a>
                    </div>
                 </div>
             </form>
            </div>
        {% endfor %}
        {% endif %}
        </div>

    </div>
</section>
<style>
    .pt-100 {
                padding-top: 100px;
            }
            .pb-70 {
                padding-bottom: 70px;
            }
            .section-header {
                margin-bottom: 60px;
                text-align: center;
            }
            .section-header i {
                color: #ff007d;
                font-size: 50px;
                display: inline-block;
                margin-bottom: 10px;
            }
            .section-header h2 {
                font-weight: bold;
                font-size: 34px;
                margin: 0;
            }
            .section-header p {
                max-width: 500px;
                margin: 20px auto 0;
            }
            .single-publication {
                border: 1px solid #f2eee2;
                margin-bottom: 30px;
                position: relative;
                overflow: hidden;
            }
            .single-publication figure {
                position: relative;
                margin: 0;
                text-align: center;
            }
            .single-publication figure > a {
                background-color: #fafafa;
                display: block;
            }
            .single-publication figure ul {
                list-style-type: none;
                padding: 0;
                margin: 0;
                position: absolute;
                right: -50px;
                top: 20px;
                transition: .6s;
                -webkit-transition: .6s;
            }
            .single-publication:hover figure ul {
                right: 15px;
            }
            .single-publication figure ul li a {
                display: inline-block;
                width: 35px;
                height: 35px;
                text-align: center;
                font-size: 15px;
                background: #ff007d;
                margin-bottom: 7px;
                border-radius: 50%;
                line-height: 35px;
                color: #fff;
            }
            .single-publication figure ul li a:hover {
                color: #fff;
                background: #e50663;
            }
            .single-publication .publication-content {
                text-align: center;
                padding: 20px;
                background-color: #fafafa;
            }
            .single-publication .publication-content .type {
                display: inline-block;
                font-family: 'Open Sans', sans-serif;
                font-size: 14px;
                color: #ff007d;
                font-weight: 600;
            }
            .single-publication .publication-content h3 {
                font-weight: 600;
                margin: 8px 0 10px;
                font-size: 20px;
            }
            .single-publication .publication-content h3 a {
                color: #1f2d30;
            }
            .single-publication .publication-content h3 a:hover {
                color: #ff007d;
            }
            .single-publication .publication-content ul {
                list-style-type: none;
                padding: 0;
                margin: 0;
                margin-bottom: 15px;
            }
            .single-publication .publication-content ul li {
                display: inline-block;
                font-size: 18px;
                color: #fec42d;
            }
            .single-publication .publication-content .Cost {
                font-size: 18px;
                color: #ff007d;
            }
            .single-publication .publication-content .price span {
                color: #6f6f6f;
                text-decoration: line-through;
                padding-left: 5px;
                font-weight: 300;
            }
            .single-publication .add-to-cart {
                position: absolute;
                right: 0;
                bottom: 0;
                left: 0;
                background: #fff;
                opacity: 0;
                visibility: hidden;
                text-align: center;
                -webkit-transform: scale(.7);
                transform: scale(.7);
                height: 105px;
                -moz-transition: .4s;
                -webkit-transition: .4s;
                transition: .4s;
            }
            .single-publication:hover .add-to-cart {
                visibility: visible;
                transform: scale(1);
                -webkit-transform: scale(1);
                opacity: 1;
            }
            .single-publication .add-to-cart .default-btn {
                margin-top: 28px;
                padding: 8px 25px;
                font-size: 14px;
            }
            .single-publication .category {
                margin: 0;
            }
            .single-publication .add-to-cart .default-btn {
                margin-top: 28px;
                padding: 8px 25px;
                font-size: 14px;
            }
            .default-btn {
                background-color: #ff007d;
                color: #fff;
                border: 1px solid #ff007d;
                display: inline-block;
                padding: 10px 30px;
                border-radius: 30px;
                text-transform: uppercase;
                font-weight: 600;
                font-family: 'Open Sans', sans-serif;
            }
            .default-btn:hover {
                color: #fff;
                text-decoration: none;
            }
</style>
</body>
</html>